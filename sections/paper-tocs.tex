\chapter{SmartIO: Zero-overhead Device Sharing through PCIe Networking}
\label{paper:TOCS}
\paperthumb

\begin{description}
	\item[Authors:]
		\textbf{Jonas Markussen}, Lars Bj{\o}rlykke Kristiansen, P{\aa}l Halvorsen,
		Halvor Kielland-Gyrud, H{\aa}kon Kvale Stensland, Carsten Griwodz

	\item[Abstract:]
		The large variety of compute-heavy and data-driven applications accelerate the need for a distributed
		\lgls{io}{I/O} solution that enables cost-effective scaling of resources between networked hosts. For example,
		in a cluster system, different machines may have various devices available at different times, 
		but moving workloads to remote units over the network is often costly and introduce 
		large overheads compared to accessing local resources. 
		%
		To facilitate \lgls{io}{I/O} \gls{disaggregation} and device sharing among hosts connected using \lgls{pcie}{PCIe} 
		\lgls{ntb}{non-transparent bridges}, we present SmartIO. \lgls{nvme}{NVMes}, \lgls{gpu}{GPUs}, network adapters, 
		or any other standard PCIe device may be borrowed and accessed directly, as if they were local to the remote machines.
		%
		We provide capabilities beyond existing \gls{disaggregation} solutions 
		by combining traditional \lgls{io}{I/O} with distributed shared-memory functionality, allowing devices 
		to become part of the same global address space as cluster applications.
		Software is entirely removed from the data path, and simultaneous sharing of a device among 
		application processes running on remote hosts is enabled.
		%
		Our experimental results show that \lgls{io}{I/O} devices can be shared with remote hosts,
		achieving native \lgls{pcie}{PCIe} performance.
		%
		Thus, compared to existing device distribution mechanisms, SmartIO provides more efficient, low-cost resource
		sharing, increasing the overall system performance.

	\item[Candidate's contributions:]
		The ideas for the device-oriented extension to the \acrshort{sisci}~\acrshort{api} grew out from Markussen's experiences with implementing MDEV for \cref{paper:SRMPDS} and \cref{paper:CC}.
		%
		Markussen contributed with several new ideas for the design of this \acrshort{api}.
		%
		He collaborated on the effort of combining these ideas with previous work into the complete SmartIO system. 
		%
		Furthermore, Markussen came up with the idea for, designed, and implemented the prototype distributed \acrshort{nvme} driver using this \acrshort{api} extension, 
		including the queue offloading idea and support for running the driver on \acrshortpl{gpu}.
		%
		Limitations in the initial \acrshort{api} design were uncovered during this process, and Markussen made subsequent improvements to the \acrshort{api} throughout the development of the driver.
		%
		Additionally, he designed and implemented several workloads for this \acrshort{nvme} driver using \acrshortpl{gpu} and Device~Lending
		in order to demonstrate the novelty and completeness of the SmartIO solution, as well as the performance benefits.
		%
		He conducted a thorough and exhaustive performance analysis of all components of the SmartIO system,
		as well as evaluating the entire system, and implemented solutions for eliminating performance overheads in the system.
		%
		Finally, Markussen wrote most of the text for the paper, and also write the necessary tools and benchmarking programs for the evaluation,
		including the \acrshort{fio} integration for the \acrshort{nvme} driver and improving the \acrshort{gpu} \acrshort{p2p} test programs.
		

	\item[Published in:]
		ACM Transactions on Computer Systems~(TOCS), 
		online~June~2021,
		issue~date~July~2021, 
		volume~38, issue~1-2, article~2, pp.~2:1--2:78.
		\doi{10.1145/3462545}

	\item[Contributed to:]
		TODO

\end{description}
